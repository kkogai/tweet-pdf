(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,52683,e=>{"use strict";e.s(["default",()=>n],52683);var s=e.i(43476),t=e.i(71645);function r(e){let{onFileUpload:r,isUploading:a=!1}=e,[l,n]=(0,t.useState)(!1),[i,c]=(0,t.useState)(null),[o,d]=(0,t.useState)(null),x=(0,t.useCallback)(e=>{var s;let t=0===(s=e).size?{isValid:!1,error:"ファイルが空です"}:"application/pdf"!==s.type?{isValid:!1,error:"PDFファイルのみアップロード可能です"}:s.size>0xa00000?{isValid:!1,error:"ファイルサイズは10MB以下にしてください"}:{isValid:!0};if(!t.isValid){d(t.error||"ファイルの検証に失敗しました"),c(null);return}d(null),c(e),r(e)},[r]),m=(0,t.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),n(!0)},[]),h=(0,t.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),n(!1)},[]),u=(0,t.useCallback)(e=>{e.preventDefault(),e.stopPropagation()},[]),p=(0,t.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),n(!1);let s=e.dataTransfer.files;s.length>0&&x(s[0])},[x]),g=(0,t.useCallback)(e=>{let s=e.target.files;s&&s.length>0&&x(s[0])},[x]);return a?(0,s.jsx)("div",{className:"flex items-center justify-center p-8 border-2 border-dashed border-gray-300 rounded-lg bg-gray-50",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto mb-2"}),(0,s.jsx)("p",{className:"text-gray-600",children:"アップロード中..."})]})}):(0,s.jsxs)("div",{className:"w-full max-w-2xl mx-auto",children:[(0,s.jsxs)("div",{"data-testid":"dropzone",className:"\n          relative border-2 border-dashed rounded-lg p-8 text-center transition-colors cursor-pointer\n          ".concat(l?"border-blue-500 bg-blue-50":"border-gray-300 bg-gray-50 hover:bg-gray-100","\n        "),onDragEnter:m,onDragLeave:h,onDragOver:u,onDrop:p,onClick:()=>{var e;return null==(e=document.getElementById("file-input"))?void 0:e.click()},children:[(0,s.jsx)("input",{id:"file-input","data-testid":"file-input",type:"file",accept:".pdf,application/pdf",onChange:g,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("svg",{className:"mx-auto h-12 w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48",children:(0,s.jsx)("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-lg font-medium text-gray-900",children:"PDFファイルをドラッグ&ドロップ"}),(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"またはクリックしてファイルを選択"})]}),(0,s.jsx)("p",{className:"text-xs text-gray-400",children:"最大10MB"})]})]}),i&&(0,s.jsx)("div",{className:"mt-4 p-4 bg-green-50 border border-green-200 rounded-lg",children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("svg",{className:"h-5 w-5 text-green-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,s.jsx)("p",{className:"text-sm font-medium text-green-800",children:i.name})]})}),o&&(0,s.jsx)("div",{className:"mt-4 p-4 bg-red-50 border border-red-200 rounded-lg",children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("svg",{className:"h-5 w-5 text-red-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,s.jsx)("p",{className:"text-sm font-medium text-red-800",children:o})]})})]})}function a(e){let{pages:t}=e;return t&&0!==t.length?(0,s.jsx)("div",{className:"max-w-2xl mx-auto space-y-4 p-4",children:t.map(e=>(0,s.jsxs)("div",{"data-testid":"tweet-card",className:"bg-white border border-gray-200 rounded-lg shadow-sm p-6 hover:shadow-md transition-shadow",children:[(0,s.jsxs)("div",{className:"flex items-center mb-3",children:[(0,s.jsx)("div",{className:"w-10 h-10 bg-blue-500 rounded-full flex items-center justify-center",children:(0,s.jsx)("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M4 4a2 2 0 00-2 2v8a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2H4zm2 6a2 2 0 11-4 0 2 2 0 014 0zm8-2a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})})}),(0,s.jsxs)("div",{className:"ml-3",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("h3",{className:"font-semibold text-gray-900",children:"PDF Document"}),(0,s.jsxs)("span",{className:"ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:["Page ",e.pageNumber]})]}),(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"@pdf-viewer • now"})]})]}),(0,s.jsx)("div",{className:"text-gray-900 leading-relaxed whitespace-pre-wrap",children:e.text||"（このページにはテキストコンテンツがありません）"}),(0,s.jsxs)("div",{className:"flex items-center justify-between mt-4 pt-3 border-t border-gray-100",children:[(0,s.jsxs)("div",{className:"flex space-x-6",children:[(0,s.jsxs)("button",{className:"flex items-center space-x-2 text-gray-500 hover:text-blue-500 transition-colors",children:[(0,s.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),(0,s.jsx)("span",{className:"text-sm",children:"Reply"})]}),(0,s.jsxs)("button",{className:"flex items-center space-x-2 text-gray-500 hover:text-green-500 transition-colors",children:[(0,s.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),(0,s.jsx)("span",{className:"text-sm",children:"Retweet"})]}),(0,s.jsxs)("button",{className:"flex items-center space-x-2 text-gray-500 hover:text-red-500 transition-colors",children:[(0,s.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})}),(0,s.jsx)("span",{className:"text-sm",children:"Like"})]}),(0,s.jsxs)("button",{className:"flex items-center space-x-2 text-gray-500 hover:text-blue-500 transition-colors",children:[(0,s.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.367 2.684 3 3 0 00-5.367-2.684z"})}),(0,s.jsx)("span",{className:"text-sm",children:"Share"})]})]}),(0,s.jsxs)("div",{className:"text-xs text-gray-500",children:[e.text.length," characters"]})]})]},e.pageNumber))}):null}async function l(s){try{let t=await e.A(25834);t.GlobalWorkerOptions.workerSrc="//cdnjs.cloudflare.com/ajax/libs/pdf.js/".concat(t.version,"/pdf.worker.min.js");let r=await s.arrayBuffer(),a=await t.getDocument({data:r}).promise,l=[];for(let e=1;e<=a.numPages;e++)try{let s=await a.getPage(e),t=(await s.getTextContent()).items.map(e=>e.str).join("");l.push({pageNumber:e,text:t})}catch(s){throw console.error("Error processing page ".concat(e,":"),s),s}return{success:!0,pages:l}}catch(e){return console.error("PDF parsing error:",e),{success:!1,error:"PDFの解析に失敗しました"}}}function n(){let[e,n]=(0,t.useState)([]),[i,c]=(0,t.useState)(!1),[o,d]=(0,t.useState)(null),x=async e=>{c(!0),d(null),n([]);try{let s=await l(e);s.success&&s.pages?n(s.pages):d(s.error||"PDFの処理中にエラーが発生しました")}catch(e){console.error("File processing error:",e),d("ファイルの処理中にエラーが発生しました")}finally{c(!1)}};return(0,s.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,s.jsx)("header",{className:"bg-white shadow-sm border-b",children:(0,s.jsx)("div",{className:"max-w-4xl mx-auto px-4 py-6",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"PDF Tweet Viewer"}),(0,s.jsx)("p",{className:"text-gray-600",children:"PDFファイルをアップロードしてTwitter風のタイムラインで表示"})]})})}),(0,s.jsx)("main",{className:"max-w-4xl mx-auto px-4 py-8",children:0===e.length?(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)(r,{onFileUpload:x,isUploading:i}),o&&(0,s.jsx)("div",{className:"max-w-2xl mx-auto",children:(0,s.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("svg",{className:"h-5 w-5 text-red-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,s.jsx)("p",{className:"text-sm font-medium text-red-800",children:o})]})})}),(0,s.jsx)("div",{className:"max-w-2xl mx-auto mt-12",children:(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[(0,s.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"使い方"}),(0,s.jsxs)("div",{className:"space-y-3 text-sm text-gray-600",children:[(0,s.jsxs)("div",{className:"flex items-start",children:[(0,s.jsx)("span",{className:"inline-flex items-center justify-center w-6 h-6 bg-blue-500 text-white text-xs font-medium rounded-full mr-3 mt-0.5",children:"1"}),(0,s.jsx)("p",{children:"PDFファイルをドラッグ&ドロップまたはクリックして選択"})]}),(0,s.jsxs)("div",{className:"flex items-start",children:[(0,s.jsx)("span",{className:"inline-flex items-center justify-center w-6 h-6 bg-blue-500 text-white text-xs font-medium rounded-full mr-3 mt-0.5",children:"2"}),(0,s.jsx)("p",{children:"ファイルが自動的に処理され、各ページの内容が抽出されます"})]}),(0,s.jsxs)("div",{className:"flex items-start",children:[(0,s.jsx)("span",{className:"inline-flex items-center justify-center w-6 h-6 bg-blue-500 text-white text-xs font-medium rounded-full mr-3 mt-0.5",children:"3"}),(0,s.jsx)("p",{children:"Twitter風のタイムライン形式で内容を確認できます"})]})]})]})})]}):(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between bg-white rounded-lg shadow-sm p-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("h2",{className:"text-lg font-semibold text-gray-900",children:["PDF内容 (",e.length,"ページ)"]}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Twitter風表示"})]}),(0,s.jsx)("button",{onClick:()=>{n([]),d(null)},className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 border border-gray-300 rounded-md hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"新しいファイルを選択"})]}),(0,s.jsx)(a,{pages:e})]})}),(0,s.jsx)("footer",{className:"bg-white border-t mt-16",children:(0,s.jsx)("div",{className:"max-w-4xl mx-auto px-4 py-6 text-center text-sm text-gray-500",children:(0,s.jsx)("p",{children:"PDF Tweet Viewer - PDFをTwitter風に表示するツール"})})})]})}},25834,e=>{e.v(s=>Promise.all(["static/chunks/cf5557267dc691df.js"].map(s=>e.l(s))).then(()=>s(18657)))}]);